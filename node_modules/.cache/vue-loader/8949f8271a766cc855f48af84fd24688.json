{"remainingRequest":"/Users/daryankamalifar/Desktop/Test/Vue-test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daryankamalifar/Desktop/Test/Vue-test/src/components/characterMovies.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/daryankamalifar/Desktop/Test/Vue-test/src/components/characterMovies.vue","mtime":1580218157282},{"path":"/Users/daryankamalifar/Desktop/Test/Vue-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daryankamalifar/Desktop/Test/Vue-test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/daryankamalifar/Desktop/Test/Vue-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daryankamalifar/Desktop/Test/Vue-test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKCmNvbnN0IGN1c3RvbV9zb3J0ID0gKGEsIGIpID0+IG1vbWVudChhLnJlbGVhc2VfZGF0ZSkuZm9ybWF0KCdZWVlZTU1ERCcpIC0gbW9tZW50KGIucmVsZWFzZV9kYXRlKS5mb3JtYXQoJ1lZWVlNTUREJyk7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2NoYXJhY3Rlci1tb3ZpZXMnLAogIHByb3BzOiBbJ2FwaVVybCddLAogIGRhdGE6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgZXJyb3JzOiBudWxsLAogICAgICBtb3ZpZXM6IFtdLAogICAgfQogIH0sCgogIG1ldGhvZHM6IHsgCiAgICBmb3JtYXRfZGF0ZSh2YWx1ZSl7CiAgICAgIGlmICh2YWx1ZSkgewogICAgICAgIHJldHVybiBtb21lbnQoU3RyaW5nKHZhbHVlKSkuZm9ybWF0KCdZWVlZJykKICAgICAgICB9CiAgICB9LAogIH0sCgogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBjaGFyYWN0ZXJNb3ZpZXMgPSBbXTsKICAgICAgYXhpb3MKICAgICAgLmdldCh0aGlzLmFwaVVybCkKICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHJlc3BvbnNlLmRhdGEuZmlsbXMubWFwKGZpbG1BcGlVcmwgPT4gewogICAgICAgICAgYXhpb3MKICAgICAgICAgICAgLmdldChmaWxtQXBpVXJsKQogICAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIGNoYXJhY3Rlck1vdmllcy5wdXNoKHJlcy5kYXRhKTsKICAgICAgICAgICAgICB0aGlzLm1vdmllcyA9IGNoYXJhY3Rlck1vdmllcy5zb3J0KGN1c3RvbV9zb3J0KTsKICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5lcnJvcnMgPSBlOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgdGhpcy5lcnJvcnMgPSBlOwogICAgICB9KTsKICB9Cn0K"},{"version":3,"sources":["characterMovies.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"characterMovies.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"charaterMovies\">\n    <div v-if=\"loading\">\n      <img  id=\"loading_gif\" :src=\"require('@/assets/images/loading.gif')\" alt=\"loadingGIF\" />\n    </div>\n    <ul>\n      <li v-for=\"movie in movies\" :key=\"movie.episode_id\">\n        {{ movie.title }} - {{ format_date(movie.release_date) }}\n      </li>\n    </ul>\n  </div>\n</template>\n\n\n<script>\n  import axios from 'axios';\n  import moment from 'moment';\n\n  const custom_sort = (a, b) => moment(a.release_date).format('YYYYMMDD') - moment(b.release_date).format('YYYYMMDD');\n\n  export default {\n    name: 'character-movies',\n    props: ['apiUrl'],\n    data: function() {\n      return {\n        loading: true,\n        errors: null,\n        movies: [],\n      }\n    },\n\n    methods: { \n      format_date(value){\n        if (value) {\n          return moment(String(value)).format('YYYY')\n          }\n      },\n    },\n\n    mounted: function () {\n      var characterMovies = [];\n        axios\n        .get(this.apiUrl)\n        .then(response => {\n          response.data.films.map(filmApiUrl => {\n            axios\n              .get(filmApiUrl)\n              .then(res => {\n                characterMovies.push(res.data);\n                this.movies = characterMovies.sort(custom_sort);\n                this.loading = false;\n              }).catch(e => {\n                this.errors = e;\n              });\n          });\n        }).catch(e => {\n          this.errors = e;\n        });\n    }\n  }\n</script>\n\n"]}]}